<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>CX-Dev : CEM Specification Tool</title>
    <!-- Favicon-->
    <link rel="icon" href="../../favicon.ico" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

     <!-- Bootstrap Core Css -->
    <link href="../../plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

	 <!-- Bootstrap Select Css -->
    <link href="../../plugins/bootstrap-select/css/bootstrap-select.css" rel="stylesheet" />
	
    <!-- Waves Effect Css -->
    <link href="../../plugins/node-waves/waves.css" rel="stylesheet" />

    <!-- Animation Css -->
    <link href="../../plugins/animate-css/animate.css" rel="stylesheet" />

    <!-- JQuery Nestable Css -->
    <link href="../../plugins/nestable/jquery-nestable.css" rel="stylesheet" />

	<!-- Multi Select Css -->
    <link href="../../plugins/multi-select/css/multi-select.css" rel="stylesheet">
	
	<!-- noUISlider Css -->
    <link href="../../plugins/nouislider/nouislider.min.css" rel="stylesheet" />

    <!-- Custom Css -->
    <link href="../../css/style.css" rel="stylesheet">
    <link href="../../css/custom.css" rel="stylesheet">
    
    <!-- AdminBSB Themes. You can choose a theme from css/themes instead of get all themes -->
    <link href="../../css/themes/all-themes.css" rel="stylesheet" />
</head>

<body class="theme-red">
   
    <!-- Overlay For Sidebars -->
    <div class="overlay"></div>
    <!-- #END# Overlay For Sidebars -->
    <!-- Search Bar -->
    <div class="search-bar">
        <div class="search-icon">
            <i class="material-icons">search</i>
        </div>
        <input type="text" placeholder="START TYPING...">
        <div class="close-search">
            <i class="material-icons">close</i>
        </div>
    </div>
    <!-- #END# Search Bar -->
    <!-- Top Bar -->
    <nav class="navbar">
        <div class="container-fluid">
            <div class="navbar-header">
                <a href="javascript:void(0);" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false"></a>
                <a href="javascript:void(0);" class="bars"></a>
                <a class="navbar-brand" href="../../index.html">CX-Dev : CEM Specification Tool </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse">
            <!--     <ul class="nav navbar-nav navbar-right">
                    Call Search
                    <li><a href="javascript:void(0);" class="js-search" data-close="true"><i class="material-icons">search</i></a></li>
                    #END# Call Search
                    Notifications
                    <li class="dropdown">
                        <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button">
                            <i class="material-icons">notifications</i>
                            <span class="label-count">7</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="header">NOTIFICATIONS</li>
                            <li class="body">
                                <ul class="menu">
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="icon-circle bg-light-green">
                                                <i class="material-icons">person_add</i>
                                            </div>
                                            <div class="menu-info">
                                                <h4>12 new members joined</h4>
                                                <p>
                                                    <i class="material-icons">access_time</i> 14 mins ago
                                                </p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="icon-circle bg-cyan">
                                                <i class="material-icons">add_shopping_cart</i>
                                            </div>
                                            <div class="menu-info">
                                                <h4>4 sales made</h4>
                                                <p>
                                                    <i class="material-icons">access_time</i> 22 mins ago
                                                </p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="icon-circle bg-red">
                                                <i class="material-icons">delete_forever</i>
                                            </div>
                                            <div class="menu-info">
                                                <h4><b>Nancy Doe</b> deleted account</h4>
                                                <p>
                                                    <i class="material-icons">access_time</i> 3 hours ago
                                                </p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="icon-circle bg-orange">
                                                <i class="material-icons">mode_edit</i>
                                            </div>
                                            <div class="menu-info">
                                                <h4><b>Nancy</b> changed name</h4>
                                                <p>
                                                    <i class="material-icons">access_time</i> 2 hours ago
                                                </p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="icon-circle bg-blue-grey">
                                                <i class="material-icons">comment</i>
                                            </div>
                                            <div class="menu-info">
                                                <h4><b>John</b> commented your post</h4>
                                                <p>
                                                    <i class="material-icons">access_time</i> 4 hours ago
                                                </p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="icon-circle bg-light-green">
                                                <i class="material-icons">cached</i>
                                            </div>
                                            <div class="menu-info">
                                                <h4><b>John</b> updated status</h4>
                                                <p>
                                                    <i class="material-icons">access_time</i> 3 hours ago
                                                </p>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="icon-circle bg-purple">
                                                <i class="material-icons">settings</i>
                                            </div>
                                            <div class="menu-info">
                                                <h4>Settings updated</h4>
                                                <p>
                                                    <i class="material-icons">access_time</i> Yesterday
                                                </p>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="footer">
                                <a href="javascript:void(0);">View All Notifications</a>
                            </li>
                        </ul>
                    </li>
                    #END# Notifications
                    Tasks
                    <li class="dropdown">
                        <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button">
                            <i class="material-icons">flag</i>
                            <span class="label-count">9</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="header">TASKS</li>
                            <li class="body">
                                <ul class="menu tasks">
                                    <li>
                                        <a href="javascript:void(0);">
                                            <h4>
                                                Footer display issue
                                                <small>32%</small>
                                            </h4>
                                            <div class="progress">
                                                <div class="progress-bar bg-pink" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 32%">
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <h4>
                                                Make new buttons
                                                <small>45%</small>
                                            </h4>
                                            <div class="progress">
                                                <div class="progress-bar bg-cyan" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <h4>
                                                Create new dashboard
                                                <small>54%</small>
                                            </h4>
                                            <div class="progress">
                                                <div class="progress-bar bg-teal" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 54%">
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <h4>
                                                Solve transition issue
                                                <small>65%</small>
                                            </h4>
                                            <div class="progress">
                                                <div class="progress-bar bg-orange" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 65%">
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <h4>
                                                Answer GitHub questions
                                                <small>92%</small>
                                            </h4>
                                            <div class="progress">
                                                <div class="progress-bar bg-purple" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 92%">
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="footer">
                                <a href="javascript:void(0);">View All Tasks</a>
                            </li>
                        </ul>
                    </li>
                    #END# Tasks
                    <li class="pull-right"><a href="javascript:void(0);" class="js-right-sidebar" data-close="true"><i class="material-icons">more_vert</i></a></li>
                </ul> -->
            </div>
        </div>
    </nav>
    <!-- #Top Bar -->
    <section>
        <!-- Left Sidebar -->
        
        
        <!-- #END# Left Sidebar -->
        <!-- Right Sidebar -->
        <aside id="rightsidebar" class="right-sidebar">
            <ul class="nav nav-tabs tab-nav-right" role="tablist">
                <li role="presentation" class="active"><a href="#skins" data-toggle="tab">SKINS</a></li>
                <li role="presentation"><a href="#settings" data-toggle="tab">SETTINGS</a></li>
            </ul>
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade in active in active" id="skins">
                    <ul class="demo-choose-skin">
                        <li data-theme="red" class="active">
                            <div class="red"></div>
                            <span>Red</span>
                        </li>
                        <li data-theme="pink">
                            <div class="pink"></div>
                            <span>Pink</span>
                        </li>
                        <li data-theme="purple">
                            <div class="purple"></div>
                            <span>Purple</span>
                        </li>
                        <li data-theme="deep-purple">
                            <div class="deep-purple"></div>
                            <span>Deep Purple</span>
                        </li>
                        <li data-theme="indigo">
                            <div class="indigo"></div>
                            <span>Indigo</span>
                        </li>
                        <li data-theme="blue">
                            <div class="blue"></div>
                            <span>Blue</span>
                        </li>
                        <li data-theme="light-blue">
                            <div class="light-blue"></div>
                            <span>Light Blue</span>
                        </li>
                        <li data-theme="cyan">
                            <div class="cyan"></div>
                            <span>Cyan</span>
                        </li>
                        <li data-theme="teal">
                            <div class="teal"></div>
                            <span>Teal</span>
                        </li>
                        <li data-theme="green">
                            <div class="green"></div>
                            <span>Green</span>
                        </li>
                        <li data-theme="light-green">
                            <div class="light-green"></div>
                            <span>Light Green</span>
                        </li>
                        <li data-theme="lime">
                            <div class="lime"></div>
                            <span>Lime</span>
                        </li>
                        <li data-theme="yellow">
                            <div class="yellow"></div>
                            <span>Yellow</span>
                        </li>
                        <li data-theme="amber">
                            <div class="amber"></div>
                            <span>Amber</span>
                        </li>
                        <li data-theme="orange">
                            <div class="orange"></div>
                            <span>Orange</span>
                        </li>
                        <li data-theme="deep-orange">
                            <div class="deep-orange"></div>
                            <span>Deep Orange</span>
                        </li>
                        <li data-theme="brown">
                            <div class="brown"></div>
                            <span>Brown</span>
                        </li>
                        <li data-theme="grey">
                            <div class="grey"></div>
                            <span>Grey</span>
                        </li>
                        <li data-theme="blue-grey">
                            <div class="blue-grey"></div>
                            <span>Blue Grey</span>
                        </li>
                        <li data-theme="black">
                            <div class="black"></div>
                            <span>Black</span>
                        </li>
                    </ul>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="settings">
                    <div class="demo-settings">
                        <p>GENERAL SETTINGS</p>
                        <ul class="setting-list">
                            <li>
                                <span>Report Panel Usage</span>
                                <div class="switch">
                                    <label><input type="checkbox" checked><span class="lever"></span></label>
                                </div>
                            </li>
                            <li>
                                <span>Email Redirect</span>
                                <div class="switch">
                                    <label><input type="checkbox"><span class="lever"></span></label>
                                </div>
                            </li>
                        </ul>
                        <p>SYSTEM SETTINGS</p>
                        <ul class="setting-list">
                            <li>
                                <span>Notifications</span>
                                <div class="switch">
                                    <label><input type="checkbox" checked><span class="lever"></span></label>
                                </div>
                            </li>
                            <li>
                                <span>Auto Updates</span>
                                <div class="switch">
                                    <label><input type="checkbox" checked><span class="lever"></span></label>
                                </div>
                            </li>
                        </ul>
                        <p>ACCOUNT SETTINGS</p>
                        <ul class="setting-list">
                            <li>
                                <span>Offline</span>
                                <div class="switch">
                                    <label><input type="checkbox"><span class="lever"></span></label>
                                </div>
                            </li>
                            <li>
                                <span>Location Permission</span>
                                <div class="switch">
                                    <label><input type="checkbox" checked><span class="lever"></span></label>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </aside>
        <!-- #END# Right Sidebar -->
    </section>

    <section class="content" style="margin-left:75px;">
        <div class="container-fluid">
            <div class="block-header">
                <h2>
                    PRODUCT CONFIGURATION
                    <small></small>
                </h2>
            </div>
            <div class="row clearfix">
                <!-- Default Example -->
                <div class="col-lg-4 col-md-5 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2>
                                Product Categories
                                <small>Add product categories and subcategories</small>
                            </h2>
                            <ul class="header-dropdown m-r--5">
                                <li class="dropdown">
                                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                        <i class="material-icons">more_vert</i>
                                    </a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><a href="javascript:void(0);">Action</a></li>
                                        <li><a href="javascript:void(0);">Another action</a></li>
                                        <li><a href="javascript:void(0);">Something else here</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="body">
                            <div class="clearfix m-b-20">
                                <div class="dd" id="catList" >
                                <div class="row clearfix">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <div class="form-line">
                                            <input type="text" class="form-control" placeholder="product category name" id="categoryName">
	                                   </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                            <button type="button" class="btn btn-default waves-effect" id="addCat">Add Category</button><br />
	                                </div>
                                </div>
                               
                            </div>
	                                
                                    <ol class="dd-list" id="listCat">
                                        
                                           
                                    </ol>
                                </div>
                            </div>
                            <b></b>
<!--                               <div class="col-sm-6"> -->
<!--                                     <div class="form-group"> -->
                                            <button type="button" class="btn btn-default waves-effect" id="submitProdCat">Submit</button>
<!-- 	                                </div> -->
<!--                                 </div> -->
<!--                             <textarea cols="30" rows="3" class="form-control no-resize" readonly></textarea> -->
                       		
                        </div>
                    </div>
                </div>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
                <script>
				    
                //add a category to the list nestable
                $(function() {
				        $('#addCat').click(function() {
				       	$('.dd').nestable('add', {"id":$('#categoryName').val()});
				        });  
				      });
				//send categories hierarchy       
				$(function() {

					        $('#submitProdCat').click(function() {
					              
							        	var data = $('#catList').nestable('serialize');
							        	
							        	$.ajax({ 
							        		   type: "POST",
							        		   dataType: "json",
							        		   contentType: "application/json",
							        		   data : window.JSON.stringify({categories:data}),
							        		   //url : 'http://localhost:8080/CEMConfigProject/cem/config/addProductCategories/' ,  
							        		   url : 'http://localhost:8080/cem/config/addProductCategories/' , //embed server
							        		   success: function(){   
							        			 //  alert('succées')
							        			   $('#catList').nestable('destroy');
							        			   //$('#listCat').append('<p> ajout avec succés</p>');
							        		   },
							        		   error: function(){   
							        			//   alert('error')
							        			   $('#catList').nestable('destroy');
							        			   //$('#listCat').append('<p> ajout avec succés</p>');
							        		   }
							        			
						        		   /*  */
							        		}); 
					        	 }); 
					    
				      });
				   //display category informations on click on a category in the list 	      
				   $(function() {
				    		  $('ol').on('click', '.dd-item .dd-handle', function(){
				    			  $('#super-attributes').html('');
				    			    var category = $(this).text();		    
				    			    $('#cattoedit').html(category);  
				    			    var supercategory;
				    			    $.ajax({ 
				    			    	   type: "GET",
				    			    	   dataType: "text",
				    			    	   contentType: "application/text",
				    			    	   //url: "http://localhost:8080/CEMConfigProject/cem/config/getSuperCategory/"+category,
				    			    	   url: "http://localhost:8080/cem/config/getSuperCategory/"+category, //embed server
				    			    	   success: function(data){        
				    			    		   $('#supercat').html(data); 
				    			    		   supercategory=data;
				    			    	   },
				    			   	 error: function(data){        
				    			    	   //  alert(data);
				    			    	   }
				    			    	});
				    			    
				    			    $.ajax({ 
				    			    	   type: "GET",
				    			    	   dataType: "json",
				    			    	   contentType: "application/json",
				    			    	   //url: "http://localhost:8080/CEMConfigProject/cem/config/getDataProperties/"+category,
				    			    	   url: "http://localhost:8080/cem/config/getDataProperties/"+category, //embed server 
				    			    	   success: function(data){        
				    			    		  
				    			    		  
				    			    			    $.each(data, function (index, property) {
				    			    			    	$('#super-attributes').append('<div  id="super-attribute-' + index +'" class="superAttributeRow row clearfix">'+
				    			                               '  ' +
				    			                              '</div> ');
				    			    			    	$('#super-attribute-' + index ).html(
				    			                                '<div  class="col-sm-3">'+
				    			                                   ' <div class="form-group">' +
				    			                                        '<div class="form-line">' +
				    			                                            '<input type="text" class="form-control superPropertyName" value="'+property.name+'"  >' +
				    				                                   '</div>' +
				    			                                   ' </div>' +
				    			                               ' </div>' +
				    			                                '<div class="col-sm-3" >' +
				    			                                ' <div class="form-group">' +
		    			                                        '<div class="form-line">' +
		    			                                            '<input type="text" class="form-control superPropertyType" value="'+getType(property.type)+'" readonly>' +
		    				                                   '</div>' +
		    			                                   ' </div>' +
				    			                                '</div> '+
				    			                                '<div class="col-sm-1">	'+					
				    			                       			'<button type="button" style = "border: none;float: right;" class="btn btn-default btn-xs waves-effect" id="editsuprop">'+
				    			                       			'	<i style="color:red" class="material-icons">tune</i>'+
				    			                    			'</button></div> <div class="typeConfig enumerations"></div>');
				    			    			    	 
				    			    			    });
				    			    			    $('#attributes').html('<div  id="attribute-1" class="attributeRow row clearfix">'+
				    			                              
				    			                                '<div class="col-sm-3">' +
				    			                                '    <div class="form-group">' +
				    			                                 '       <div class="form-line">' +
				    			                                 '           <input type="text" class="form-control propertyName" placeholder="  property name" >' +
				    				                             '      </div>' +
				    			                                 '   </div>' +
				    			                                '</div>' +
				    			                               ' <div class="col-sm-3" >' +
				    			                                 '   <select class="form-control show-tick propertyType" >' +
				    			                                   '     <option value="">--Select a type--</option>' +
				    			                                  '      <option value="1">Numeric</option>' +
				    			                                  '      <option value="2">Numeric range</option>' +
				    			                                  '      <option value="4">Literal</option>' +
				    			                                   '     <option value="3">Enumeration</option>  ' +                                
				    			                                  '  </select>            ' +                     
				    			                               ' </div>' +
				    			                             
				    				                            ' <div class="typeConfig enumerations">  ' +
				    				                              	
				    			                               ' </div>        ' +
				    			                               ' <div class="col-sm-1" >      ' +   
				    			                            	'	 <button type="button" style = "border: none;float: right;" class="btn btn-default btn-xs waves-effect" id="addAttribute"><i style="color:green" class="material-icons">add_circle</i></button><br />' +
				    			                          		'</div>' +
				    			                              '</div> ');
				    			    		
				    			    	   },
				    			   	 error: function(data){ 
				    			   		
				    			    	     //alert(window.JSON.stringify($data));
				    			    	   }
				    			    	});
				    			});
				    	  })
				   
				   		//add the list of data properties of a category
				        $(function() {

					        $('#addProp').on('click',  function(){
					        	var $this = $(this);
					        	var tab =[] ;
					        	
					        	var category = $('#cattoedit').text();
					        	var supercategory = $('#supercat').text();
					        	$( ".superAttributeRow "/**/ ).each(function( index, row ) {
					        		var property = $(row).find('.superPropertyName').val()+"_rest_"+category;
					        		//changing property types for numeric and literal if there is restriction
					        		var propertytype ;
					        		if($(row).find('input.superPropertyType').val()=="Numeric")
					        			propertytype=getTypeId("Numeric Range");
					        		else if ($(row).find('input.superPropertyType').val()=="Literal")
					        			propertytype=getTypeId("Enumeration");
					        		else propertytype = getTypeId($(row).find('input.superPropertyType').val());
						        	
					        		//ranges for range and restricted numeric types
						        	var minRange = "", maxRange="";
						        	if(($(row).find('input.superPropertyType').val()=="Numeric")){
							        	minRange = $(row).find('.typeConfig .minRange').val();
							        	maxRange = $(row).find('.typeConfig .maxRange').val();
							        	}
						        	else if (($(row).find('input.superPropertyType').val()=="Numeric Range")){
						        		minRange = $(row).find('span.minValue').text();
						        		maxRange  =$(row).find('span.maxValue').text();
							        	}
						        	else {
						        		minRange = "", maxRange="";
						        	}
						        	var tabenum =[] ;
						        	$(row).find( ".enumelt" ).each(function( index, row ) {
						        		var value = $(row).val();
							        	var obj =  {enumValue:value}
							        	tabenum.push(obj);	
						        	});
						        	//console.log(newMinRange);
						        	//val op contains selected value for type enumeration that stills enumeration
						        	 var selOp = $(row).find(".supenumval option:selected" );
						             
						             $(selOp).each(function(index, val){
						            	 var value =$(this).val();
						            	 var obj =  {enumValue:value}
						            	 tabenum.push(obj);
						             });
						           // if ((maxRange==null) && (minRange==null) && (tabenum==null)){
						        		var obj =  {subDataProp: $(row).find('.superPropertyName').val(),className:category, dataPropertyName:property, dataPropertyType:propertytype, maxRange:maxRange, minRange:minRange, enums:tabenum }
					        			tab.push(obj);	
						          //  }
						        	
					        	});
					        	
					        	$( ".attributeRow" ).each(function( index, row ) {
					        		var property = $(row).find('.propertyName').val();
						        	var propertytype = $(row).find('select.propertyType').val();
						        	var minRange = $(row).find('.typeConfig .minRange').val();
						        	var maxRange = $(row).find('.typeConfig .maxRange').val();
						        	var tabenum =[] ;
						        	$(row).find( ".enumelt" ).each(function( index, row ) {
						        		var value = $(row).val();
							        	var obj =  {enumValue:value}
							        	tabenum.push(obj);	
						        	});
						        	var obj =  {subDataProp: null, className:category, dataPropertyName:property, dataPropertyType:propertytype, maxRange:maxRange, minRange:minRange, enums:tabenum }
					        		tab.push(obj);	
					        	});
					        //console.log($this.parents('div.body').find('div#typeConfig.col-sm-6 input#minRange.form-control'));
							        	
							        	$.ajax({ 
							        		   type: "POST",
							        		   dataType: "json",
							        		   contentType: "application/json",
							        		   data : window.JSON.stringify(tab),
							        		   //url : 'http://localhost:8080/CEMConfigProject/cem/config/addDataProperty/' , 
							        		   url : 'http://localhost:8080/cem/config/addDataProperty/' , //embed server
							        		   success: function(){   
							        			   //alert('success')
							        			   //$('#catList').nestable('destroy');
							        			   //$('#listCat').append('<p> ajout avec succés</p>');
							        		   },
							        		   error: function(){   
							        			   //alert('error')
							        			   //$('#catList').nestable('destroy');
							        			   //$('#listCat').append('<p> ajout avec succés</p>');
							        		   }
							        			
						        		   /*  */
							        		}); 
					        	 }); 
					    
				      });
					//display the restrictions input text
					$(function() {
						$('#super-attributes').on('click',"#editsuprop",  function(){
				       		var proptype = $(this).parents('.superAttributeRow').find('.superPropertyType').val();
				       		var monThis = $(this).parents('.superAttributeRow');
				       		monThis.addClass('clicked');
				       		if(proptype == 'Literal'){
				       			$(this).parents('.superAttributeRow').find('.typeConfig').html('<div class="col-sm-3"><div class="form-group"> <div class="form-line">'+
				               			' <input type="text" class="form-control enumelt" placeholder="Value" >  </div> </div> </div>	<div class="col-sm-1">	'+					
				               			'<button type="button" style = "border: none;float: right;" class="btn btn-default btn-xs waves-effect" id="addenum">'+
				               			'	<i style="color:blue" class="material-icons">add_circle</i>'+
				            			'</button></div>');
				       		}else if (proptype=='Numeric') {
				       			$(this).parents('.superAttributeRow').find('.typeConfig').html('<div class="row clearfix"><div class="col-sm-3"><div class="form-group"> <div class="form-line"><input type="text" class="form-control minRange" placeholder="  min range" ></div></div></div></div><div class="row clearfix"><div class="col-sm-6"></div><div class="col-sm-1"></div> <div class="col-sm-3"><div class="form-group"> <div class="form-line"> <input type="text" class="form-control maxRange" placeholder="  max range" ></div></div></div></div>');
				       		}else if (proptype == 'Enumeration'){
				       			$(this).parents('.superAttributeRow').find('.typeConfig').html('<div class="row clearfix"><div class="col-sm-4">'+
		                                   ' <select class="form-control show-tick supenumval" multiple>' +                                       
	                                   ' </select></div></div>' );		
				       		 $('#'+$(this).parents('.superAttributeRow').attr('id')+' select:not(.ms)').selectpicker();
				       		}else if (proptype == 'Numeric Range') {	
				       			$(this).parents('.superAttributeRow').find('.typeConfig').html('<div class="col-md-4">'+
	                                   ' <div class="nouislider_range_example"></div>'+
	                                    '<div class="m-t-20 font-12"><b>Min value: </b><span class="minValue"></span><b>Max value: </b><span class="maxValue"></span></div>'+
	                               ' </div>');
				       			
				       		}
				       			var propname = $(this).parents('.superAttributeRow').find('.superPropertyName').val();
				       			var min,max;
				       			var values=[];
				       			$.ajax({ 
			    			    	   type: "GET",
			    			    	   dataType: "json",
			    			    	   contentType: "application/json",
			    			    	  // url: "http://localhost:8080/CEMConfigProject/cem/config/getValues/"+propname,
			    			    	   url: "http://localhost:8080/cem/config/getValues/"+propname, //embed server
			    			    	   success: function(data){  
			    			    	   		//alert(data);
			    			    		   values = data;
			    			    		   
			    			    		   if (proptype=='Numeric Range'){
			    			    		   min = parseInt(values[0]);
							       			max = parseInt(values[1]);
							       			//alert(min + "  "+ max);
							       			var rangeSlider = monThis.find('.nouislider_range_example')[0];
							    		    noUiSlider.create(rangeSlider, {
							    		        start: [min, max],
							    		        connect: true,
							    		        range: {
							    		            'min': min,
							    		            'max': max
							    		        }
							    		    });  getNoUISliderValue(rangeSlider, false);
			    			    		   }else if (proptype=='Enumeration'){
			    			    			   $.each(values, function (index, val) {
			    			    				 var o = new Option(val, val);
			    			    				 /// jquerify the DOM object 'o' so we can use the html method
			    			    				 //$(o).html(val);
			    			    				 monThis.find('select.supenumval').append(o).selectpicker('refresh');
;
			    			    			   });
			    			    		   }
			    			    	   },
			    			   	 error: function(data){ 			    			   		
			    			    	     //alert();
			    			    	   }
			    			    	});
				       		
				       		
				        }); 
				      });
					
				      </script>
                <div class="col-lg-8 col-md-7 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2>
                                Property configuration
                                <small>Select the category to configure</small>
                            </h2>
                            <ul class="header-dropdown m-r--5">
                                <li class="dropdown">
                                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                        <i class="material-icons">more_vert</i>
                                    </a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><a href="javascript:void(0);">Action</a></li>
                                        <li><a href="javascript:void(0);">Another action</a></li>
                                        <li><a href="javascript:void(0);">Something else here</a></li>
                                    </ul>
                                </li>
                            </ul>
                            
                        </div>
                        <div class="body">
                            <div class="clearfix m-b-20" >
                                  <b >Category to edit: </b>
                              <b id="cattoedit"></b>
                               </br><b> Sub category of:  </b>    <b id="supercat"></b> 
                            </div>
                            <div id="super-attributes"></div>
                            <div id="attributes">
                            
                             <div id="attribute-1" class="attributeRow row clearfix">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <div class="form-line">
                                            <input type="text" class="form-control propertyName" placeholder="  property name" >
	                                   </div>
                                    </div>
                                </div>
                                <div class="col-sm-3" >
                                    <select class="form-control show-tick propertyType" >
                                        <option value="">--Select a type--</option>
                                        <option value="1">Numeric</option>
                                        <option value="2">Numeric range</option>
                                        <option value="4">Literal</option>
                                        <option value="3">Enumeration</option>                                  
                                    </select>                                 
                                </div>
                             
	                             <div class="typeConfig enumerations">  
	                              	
                                </div>        
                                <div class="col-sm-1" >         
                            		 <button type="button" style = "border: none;float: right;" class="btn btn-default btn-xs waves-effect" id="addAttribute"><i style="color:green" class="material-icons">add_circle</i></button><br />
                          		</div>
                            
                               
                            </div>
                            
                            
                            </div>
                            
                            <div class="row clearfix">
                                <div class="col-sm-12">
                                    <div style = "text-align: center" class="body">                                                                    
                                            <button type="button"  class="btn btn-default waves-effect" id="addProp">Send properties</button><br />
	                               
	                                </div>
                                </div>
                               
                            </div>
                       
                               
                            
                        </div>
                    </div>
                </div>
                <!-- #END# Default Example -->
            </div>
            <!-- Draggable Handles -->
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2>
                                Product Model Configuration
                            </h2>
                            <ul class="header-dropdown m-r--5">
                                <li class="dropdown">
                                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                        <i class="material-icons">more_vert</i>
                                    </a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><a href="javascript:void(0);">Action</a></li>
                                        <li><a href="javascript:void(0);">Another action</a></li>
                                        <li><a href="javascript:void(0);">Something else here</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="body">
                         <div id="modelAttributes">
                            
                             <div id="modelAttribute-1" class="attributeRow row clearfix">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <div class="form-line">
                                            <input type="text" class="form-control propertyName" placeholder="  property name" >
	                                   </div>
                                    </div>
                                </div>
                                <div class="col-sm-3" >
                                    <select class="form-control show-tick propertyType" >
                                        <option value="">--Select a type--</option>
                                        <option value="1">Numeric</option>
                                        <option value="2">Numeric range</option>
                                        <option value="4">Literal</option>
                                        <option value="3">Enumeration</option>                                  
                                    </select>                                 
                                </div>
                             
	                             <div class="typeConfig enumerations">  
	                              	
                                </div>        
                                <div class="col-sm-1" >         
                            		 <button type="button" style = "border: none;float: right;" class="btn btn-default btn-xs waves-effect" id="addAttribute"><i style="color:green" class="material-icons">add_circle</i></button><br />
                          		</div>
                            
                               
                            </div>
                            
                            
                            </div>
                           </div>
                    </div>
                </div>
            </div>
            <!-- #END# Draggable Handles -->
            
            
             <!-- Draggable Handles -->
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2>
                                Product Items Configuration
                            </h2>
                            <ul class="header-dropdown m-r--5">
                                <li class="dropdown">
                                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                        <i class="material-icons">more_vert</i>
                                    </a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><a href="javascript:void(0);">Action</a></li>
                                        <li><a href="javascript:void(0);">Another action</a></li>
                                        <li><a href="javascript:void(0);">Something else here</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="body">
                         <div id="modelAttributes">
                            
                             <div id="modelAttribute-1" class="attributeRow row clearfix">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <div class="form-line">
                                            <input type="text" class="form-control propertyName" placeholder="  property name" >
	                                   </div>
                                    </div>
                                </div>
                                <div class="col-sm-3" >
                                    <select class="form-control show-tick propertyType" >
                                        <option value="">--Select a type--</option>
                                        <option value="1">Numeric</option>
                                        <option value="2">Numeric range</option>
                                        <option value="4">Literal</option>
                                        <option value="3">Enumeration</option>                                  
                                    </select>                                 
                                </div>
                             
	                             <div class="typeConfig enumerations">  
	                              	
                                </div>        
                                <div class="col-sm-1" >         
                            		 <button type="button" style = "border: none;float: right;" class="btn btn-default btn-xs waves-effect" id="addAttribute"><i style="color:green" class="material-icons">add_circle</i></button><br />
                          		</div>
                            
                               
                            </div>
                            
                            
                            </div>
                           </div>
                    </div>
                </div>
            </div>
            <!-- #END# Draggable Handles -->
        
        </div>
    </section>

    <!-- Jquery Core Js -->
    <script src="../../plugins/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core Js -->
    <script src="../../plugins/bootstrap/js/bootstrap.js"></script>

    <!-- Select Plugin Js -->
    <script src="../../plugins/bootstrap-select/js/bootstrap-select.js"></script>

    <!-- Slimscroll Plugin Js -->
    <script src="../../plugins/jquery-slimscroll/jquery.slimscroll.js"></script>

    <!-- Waves Effect Plugin Js -->
    <script src="../../plugins/node-waves/waves.js"></script>

    <!-- Jquery Nestable -->
    <script src="../../plugins/nestable/jquery.nestable.js"></script>

	<!-- Multi Select Plugin Js -->
    <script src="../../plugins/multi-select/js/jquery.multi-select.js"></script>

	<!-- noUISlider Plugin Js -->
    <script src="../../plugins/nouislider/nouislider.js"></script>

    <!-- Custom Js -->
    <!--<script src="../../js/admin.js"></script> -->
    <script src="../../js/pages/ui/sortable-nestable.js"></script>
       <script src="../../js/pages/forms/advanced-form-elements.js"></script>
    <!-- Demo Js -->
    <script src="../../js/demo.js"></script>
    
     <script src="../../js/script.js"></script>
</body>

</html>